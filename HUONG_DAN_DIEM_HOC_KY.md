# ğŸ“Š HÆ°á»›ng dáº«n sá»­ dá»¥ng chá»©c nÄƒng ÄIá»‚M Há»ŒC Ká»² & Cáº¢ NÄ‚M

## ğŸ¯ Tá»•ng quan

Há»‡ thá»‘ng Ä‘Ã£ Ä‘Æ°á»£c bá»• sung cÃ¡c chá»©c nÄƒng má»›i Ä‘á»ƒ tÃ­nh vÃ  xem Ä‘iá»ƒm theo há»c ká»³ vÃ  cáº£ nÄƒm há»c:

### âœ¨ CÃ¡c chá»©c nÄƒng má»›i:

1. **TÃ­nh Ä‘iá»ƒm trung bÃ¬nh há»c ká»³** (HK1 hoáº·c HK2)
2. **TÃ­nh Ä‘iá»ƒm trung bÃ¬nh cáº£ nÄƒm** (Káº¿t há»£p HK1 vÃ  HK2)
3. **Xem Ä‘iá»ƒm vÃ  xuáº¥t bÃ¡o cÃ¡o** theo há»c ká»³/cáº£ nÄƒm
4. **Xuáº¥t file CSV** Ä‘á»ƒ lÆ°u trá»¯ vÃ  in áº¥n

---

## ğŸ“ CÃ´ng thá»©c tÃ­nh Ä‘iá»ƒm

### 1. Äiá»ƒm trung bÃ¬nh mÃ´n há»c (1 há»c ká»³):
```
ÄTB MÃ´n = (Äiá»ƒm Miá»‡ng + Äiá»ƒm 15p + Äiá»ƒm Giá»¯a ká»³ Ã— 2 + Äiá»ƒm Cuá»‘i ká»³ Ã— 3) / 7
```

### 2. Äiá»ƒm trung bÃ¬nh há»c ká»³:
```
ÄTB HK = Trung bÃ¬nh cÃ¡c mÃ´n trong há»c ká»³ Ä‘Ã³
```

### 3. Äiá»ƒm trung bÃ¬nh cáº£ nÄƒm:
```
ÄTB Cáº£ nÄƒm = (ÄTB HK1 + ÄTB HK2 Ã— 2) / 3
```

### 4. Xáº¿p loáº¡i há»c lá»±c:
- **Xuáº¥t sáº¯c**: â‰¥ 9.0
- **Giá»i**: â‰¥ 8.0
- **KhÃ¡**: â‰¥ 6.5
- **Trung bÃ¬nh**: â‰¥ 5.0
- **Yáº¿u**: â‰¥ 3.5
- **KÃ©m**: < 3.5

---

## ğŸš€ CÃ¡ch sá»­ dá»¥ng

### BÆ°á»›c 1: Má»Ÿ chá»©c nÄƒng
1. VÃ o **Dashboard** (mÃ n hÃ¬nh chÃ­nh)
2. TÃ¬m má»¥c **"Äiá»ƒm"**
3. Click vÃ o **"Xem Ä‘iá»ƒm theo HK/Cáº£ nÄƒm"**

### BÆ°á»›c 2: Chá»n loáº¡i xem
- **Há»c ká»³ 1**: Xem Ä‘iá»ƒm trung bÃ¬nh há»c ká»³ 1
- **Há»c ká»³ 2**: Xem Ä‘iá»ƒm trung bÃ¬nh há»c ká»³ 2
- **Cáº£ nÄƒm**: Xem Ä‘iá»ƒm trung bÃ¬nh cáº£ nÄƒm (hiá»ƒn thá»‹ cáº£ HK1, HK2 vÃ  TB cáº£ nÄƒm)

### BÆ°á»›c 3: Chá»n lá»c dá»¯ liá»‡u
- **Lá»›p**: Chá»n lá»›p cá»¥ thá»ƒ hoáº·c "Táº¥t cáº£"
- **NÄƒm há»c**: Chá»n nÄƒm há»c cáº§n xem

### BÆ°á»›c 4: Táº£i dá»¯ liá»‡u
- Click nÃºt **"Táº£i dá»¯ liá»‡u"** Ä‘á»ƒ hiá»ƒn thá»‹ Ä‘iá»ƒm

### BÆ°á»›c 5: Xuáº¥t bÃ¡o cÃ¡o (TÃ¹y chá»n)
- Click nÃºt **"Xuáº¥t CSV"** Ä‘á»ƒ lÆ°u file
- Chá»n vá»‹ trÃ­ lÆ°u file
- File cÃ³ thá»ƒ má»Ÿ báº±ng Excel Ä‘á»ƒ in hoáº·c chá»‰nh sá»­a

---

## ğŸ“Š Giao diá»‡n

### Khi xem theo HK1 hoáº·c HK2:
| MÃ£ HS | Há» tÃªn        | Lá»›p  | TB Há»c ká»³ | Xáº¿p loáº¡i |
|-------|---------------|------|-----------|----------|
| 1     | Nguyá»…n VÄƒn A  | 10A1 | 8.5       | Giá»i     |
| 2     | Tráº§n Thá»‹ B    | 10A1 | 7.8       | KhÃ¡      |

### Khi xem Cáº£ nÄƒm:
| MÃ£ HS | Há» tÃªn        | Lá»›p  | TB HK1 | TB HK2 | TB Cáº£ nÄƒm | Xáº¿p loáº¡i    |
|-------|---------------|------|--------|--------|-----------|-------------|
| 1     | Nguyá»…n VÄƒn A  | 10A1 | 8.5    | 8.8    | 8.7       | Giá»i        |
| 2     | Tráº§n Thá»‹ B    | 10A1 | 7.8    | 8.0    | 7.9       | KhÃ¡         |

---

## ğŸ—‚ï¸ Cáº¥u trÃºc file má»›i

### 1. DiemHocKyDAO.java
**ÄÆ°á»ng dáº«n**: `src/com/sgu/qlhs/ui/database/DiemHocKyDAO.java`

**Chá»©c nÄƒng**:
- TÃ­nh Ä‘iá»ƒm trung bÃ¬nh há»c ká»³ tá»« database
- TÃ­nh Ä‘iá»ƒm trung bÃ¬nh cáº£ nÄƒm
- Láº¥y chi tiáº¿t Ä‘iá»ƒm tá»«ng mÃ´n
- Xáº¿p loáº¡i há»c lá»±c

### 2. DiemXemTheoHocKyDialog.java
**ÄÆ°á»ng dáº«n**: `src/com/sgu/qlhs/ui/dialogs/DiemXemTheoHocKyDialog.java`

**Chá»©c nÄƒng**:
- Giao diá»‡n xem Ä‘iá»ƒm theo há»c ká»³/cáº£ nÄƒm
- Lá»c theo lá»›p vÃ  nÄƒm há»c
- Xuáº¥t file CSV
- Hiá»ƒn thá»‹ thá»‘ng kÃª

---

## ğŸ” VÃ­ dá»¥ thá»±c táº¿

### VÃ­ dá»¥ 1: TÃ­nh Ä‘iá»ƒm HK1 cá»§a há»c sinh
**Giáº£ sá»­ há»c sinh cÃ³ Ä‘iá»ƒm cÃ¡c mÃ´n trong HK1:**
- ToÃ¡n: Miá»‡ng=8, 15p=7, GK=8, CK=9 â†’ ÄTB = (8+7+8Ã—2+9Ã—3)/7 = **8.3**
- VÄƒn: Miá»‡ng=7, 15p=8, GK=7, CK=8 â†’ ÄTB = (7+8+7Ã—2+8Ã—3)/7 = **7.6**
- Anh: Miá»‡ng=9, 15p=8, GK=8, CK=9 â†’ ÄTB = (9+8+8Ã—2+9Ã—3)/7 = **8.6**

**Äiá»ƒm TB HK1** = (8.3 + 7.6 + 8.6) / 3 = **8.2** â†’ **Xáº¿p loáº¡i: Giá»i**

### VÃ­ dá»¥ 2: TÃ­nh Ä‘iá»ƒm cáº£ nÄƒm
- HK1: 8.2
- HK2: 8.5

**Äiá»ƒm TB Cáº£ nÄƒm** = (8.2 + 8.5Ã—2) / 3 = **8.4** â†’ **Xáº¿p loáº¡i: Giá»i**

---

## âš™ï¸ LÆ°u Ã½ ká»¹ thuáº­t

### YÃªu cáº§u dá»¯ liá»‡u:
1. Pháº£i cÃ³ Ä‘iá»ƒm Ä‘áº§y Ä‘á»§ trong báº£ng `Diem` (DiemMieng, Diem15p, DiemGiuaKy, DiemCuoiKy)
2. Pháº£i cÃ³ `HocKy` (1 hoáº·c 2) vÃ  `MaNK` (mÃ£ niÃªn khÃ³a)
3. Há»c sinh pháº£i cÃ³ Ã­t nháº¥t 1 mÃ´n cÃ³ Ä‘iá»ƒm Ä‘á»ƒ hiá»ƒn thá»‹

### Xá»­ lÃ½ dá»¯ liá»‡u thiáº¿u:
- Náº¿u há»c sinh chÆ°a cÃ³ Ä‘iá»ƒm HK2, Ä‘iá»ƒm cáº£ nÄƒm sáº½ tÃ­nh dá»±a trÃªn HK1
- Äiá»ƒm Ä‘Æ°á»£c lÃ m trÃ²n 1 chá»¯ sá»‘ tháº­p phÃ¢n

### Hiá»‡u nÄƒng:
- Sá»­ dá»¥ng SQL JOIN vÃ  GROUP BY Ä‘á»ƒ tÃ­nh nhanh
- CÃ³ thá»ƒ xá»­ lÃ½ hÃ ng ngÃ n há»c sinh
- Káº¿t quáº£ Ä‘Æ°á»£c cache trong báº£ng

---

## ğŸ“ Há»— trá»£

Náº¿u gáº·p lá»—i, kiá»ƒm tra:
1. âœ… Database Ä‘Ã£ cÃ³ dá»¯ liá»‡u Ä‘iá»ƒm
2. âœ… Káº¿t ná»‘i MySQL hoáº¡t Ä‘á»™ng
3. âœ… ÄÃ£ compile láº¡i sau khi cáº­p nháº­t code

**CÃ¡c lá»—i thÆ°á»ng gáº·p:**
- "KhÃ´ng cÃ³ dá»¯ liá»‡u": Kiá»ƒm tra báº£ng Diem cÃ³ dá»¯ liá»‡u chÆ°a
- "Lá»—i káº¿t ná»‘i": Kiá»ƒm tra MySQL Ä‘ang cháº¡y
- "KhÃ´ng xuáº¥t Ä‘Æ°á»£c CSV": Kiá»ƒm tra quyá»n ghi file

---

## ğŸ“ TÃ³m táº¯t

âœ… **ÄÃ£ hoÃ n thÃ nh:**
- [x] TÃ­nh Ä‘iá»ƒm TB há»c ká»³
- [x] TÃ­nh Ä‘iá»ƒm TB cáº£ nÄƒm  
- [x] Xem Ä‘iá»ƒm theo HK/Cáº£ nÄƒm
- [x] Xuáº¥t file CSV
- [x] Xáº¿p loáº¡i há»c lá»±c
- [x] Thá»‘ng kÃª sá»‘ lÆ°á»£ng há»c sinh

âœ… **CÃ´ng thá»©c Ã¡p dá»¥ng:**
- Äiá»ƒm TB mÃ´n = (M + 15p + GKÃ—2 + CKÃ—3) / 7
- Äiá»ƒm TB HK = Trung bÃ¬nh cÃ¡c mÃ´n
- Äiá»ƒm TB Cáº£ nÄƒm = (HK1 + HK2Ã—2) / 3

âœ… **Cháº¡y á»©ng dá»¥ng:**
```powershell
cd d:\huyngyuen\nam_5\Java\JavaCode\QLHS
$CP = "build\classes;lib\mysql-connector-j-8.0.33.jar"
java -cp $CP com.sgu.qlhs.ui.MainDashboard
```

ChÃºc anh sá»­ dá»¥ng hiá»‡u quáº£! ğŸš€
